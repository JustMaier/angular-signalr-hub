angular.module("SignalR",[]).constant("$",$).factory("Hub",["$",function(a){var b=null,c=function(c){b=c&&c.rootPath?a.hubConnection(c.rootPath,{useDefaultPath:!1}):a.hubConnection()};return function(d,e){var f=this;return null===b&&c(e),f.connection=b,f.proxy=f.connection.createHubProxy(d),f.on=function(a,b){f.proxy.on(a,b)},f.invoke=function(){return f.proxy.invoke.apply(f.proxy,arguments)},f.disconnect=function(){f.connection.stop()},f.connect=function(){f.connection.start()},e&&e.listeners&&angular.forEach(e.listeners,function(a,b){f.on(b,a)}),e&&e.methods&&angular.forEach(e.methods,function(b){f[b]=function(){var c=a.makeArray(arguments);return c.unshift(b),f.invoke.apply(f,c)}}),e&&e.queryParams&&(f.connection.qs=e.queryParams),e&&e.errorHandler&&f.connection.error(e.errorHandler),f.promise=f.connection.start(),f}}]);