/**
 * angular-signalr-hub
 * @version v1.4.0 - 20-09-2014
 * @link https://github.com/JustMaier/angular-signalr-hub
 * @author Justin Maier (https://github.com/JustMaier)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("SignalR",[]).constant("$",$).factory("HubConnectionFactory",["$",function(a){function b(b){var c=null;return c=b&&b.rootPath?a.hubConnection(b.rootPath,{useDefaultPath:!1}):a.hubConnection(),c.logging=b&&b.logging?!0:!1,c}function c(a){var c=!(a&&a.useSharedConnection===!1);return c?null===d?d=b(a):d:b(a)}var d=null;return{getConnection:c}}]).factory("HubFactory",["$","HubConnectionFactory",function(a,b){function c(c,d){var e=this;return e.connection=b.getConnection(d),e.proxy=e.connection.createHubProxy(c),e.on=function(a,b){e.proxy.on(a,b)},e.invoke=function(){return e.proxy.invoke.apply(e.proxy,arguments)},e.disconnect=function(){e.connection.stop()},e.connect=function(){e.connection.start()},d&&d.listeners&&angular.forEach(d.listeners,function(a,b){e.on(b,a)}),d&&d.methods&&angular.forEach(d.methods,function(b){e[b]=function(){var c=a.makeArray(arguments);return c.unshift(b),e.invoke.apply(e,c)}}),d&&d.queryParams&&(e.connection.qs=d.queryParams),d&&d.errorHandler&&e.connection.error(d.errorHandler),e.promise=e.connection.start(),e}function d(a,b){return new c(a,b)}return{getHub:d}}]);